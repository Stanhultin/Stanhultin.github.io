library(tidyverse)
df %>% filter(state=='NH'|state=='MA') %>% ggplot(mapping=aes(x=deathIncrease), (y=hospitalizedIncrease)) + facet_wrap(date~state)
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df %>% filter(state=='NH'|state=='MA') %>% ggplot(mapping=aes(x=deathIncrease), (y=hospitalizedIncrease)) + facet_wrap(~state)
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df %>% filter(state=='NH'|state=='MA') %>% ggplot(mapping=aes(x=deathIncrease), (y=hospitalizedIncrease)) + facet_wrap(~state), position='jitter')
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df %>% filter(state=='NH'|state=='MA') %>% ggplot() + geom_point(mapping=aes(x=deathIncrease, y=hospitalizedincreased, color=state) position='jitter')
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df %>% filter(state=='NH'|state=='MA') %>% ggplot() + geom_point(mapping=aes(x=deathIncrease, y=hospitalizedincreased, color=state)
position='jitter')
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df %>% filter(state=='NH'|state=='MA') %>% ggplot() + geom_point(mapping=aes(x=deathIncrease, y=hospitalizedincreased, color=state)position='jitter')
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df %>% filter(state=='NH',state=='MA') %>% ggplot() + geom_point(mapping=aes(x=deathIncrease, y=hospitalizedincreased, color=state) position='jitter')
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df %>% filter(state=='NH'|state=='MA') %>% ggplot() + geom_point(mapping=aes(x=deathIncrease, y=hospitalizedIncreased, color=state) position='jitter')
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df %>% filter(state=='NH'|state=='MA') %>% ggplot() + geom_point(mapping=aes(x=deathIncrease, y=hopspitalizedIncrease, color=state) position='jitter')
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df %>% filter(state=='NH'|state=='MA') %>% ggplot() + geom_point(mapping=aes(x=deathIncrease, y=hopspitalizedIncrease, color=state) position='jitter')
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df %>% filter(state=='NH'|state=='MA') %>% ggplot() + geom_point(mapping=aes(x=deathIncrease, y=hopspitalizedIncrease, color=state), position='jitter')
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df %>% filter(state=='NH'|state=='MA') %>% ggplot() + geom_point(mapping=aes(x=deathIncrease, y=hospitalizedIncrease, color=state), position='jitter')
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df %>% filter(state=='NH'|state=='MA') %>% ggplot() + geom_point(mapping=aes(x=deathIncrease, y=hospitalizedIncrease, color=state), position='dodge')
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df %>% filter(state=='NH'|state=='MA') %>% ggplot() + geom_point(mapping=aes(x=deathIncrease, y=hospitalizedIncrease, color=state), position='fill')
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df %>% filter(state=='NH'|state=='MA') %>% ggplot() + geom_col(mapping=aes(x=deathIncrease, y=hospitalizedIncrease, color=state))
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df %>% filter(state=='NH'|state=='MA') %>% ggplot() + geom_col(mapping=aes(x=deathIncrease, y=hospitalizedIncrease, color=state) + theme_dark())
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df %>% filter(state=='NH'|state=='MA') %>% ggplot() + geom_col(mapping=aes(x=deathIncrease, y=hospitalizedIncrease, color=state)) + theme_dark()
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df %>% ggplot(mapping=aes(x=deathIncrease), (y=hospitalizedIncrease)) + facet_wrap(~state)
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df %>% ggplot(mapping=aes(x=deathIncrease), (y=hospitalizedIncrease)) + face_wrap(~state)
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df %>% ggplot(mapping=aes(x=deathIncrease), (y=hospitalizedIncrease)) + facet_wrap(~state)
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df %>% ggplot(mapping=aes(x=deathIncrease), (y=hospitalizedIncrease)) + facet_wrap(~state)
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df %>% ggplot(mapping=aes(x=deathIncrease, y=hospitalizedIncrease)) + geom_point()+ facet_wrap(~state)
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df <- read.csv('https://covidtracking.com/data/download/all-states-history.csv')
df %>% filter(state=='NH'|state=='MA' %>% ggplot(mapping=aes(x=deathIncrease, y=hospitalizedIncrease)) + geom_point()+ facet_wrap(~state)
knitr::opts_chunk$set(message = FALSE)
df <- read.csv('https://covidtracking.com/data/download/all-states-history.csv')
knitr::opts_chunk$set(message = FALSE)
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df <- read.csv('https://covidtracking.com/data/download/all-states-history.csv')
df %>% filter(state=='NH'|state=='MA') %>% ggplot(mapping=aes(x=deathIncrease, y=hospitalizedIncrease)) + geom_point()+ facet_wrap(~state)
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df <- read.csv('https://covidtracking.com/data/download/all-states-history.csv')
df %>% filter(state=='NH'|state=='MA') %>% ggplot(mapping=aes(x=deathIncrease), (y=hospitalizedIncrease)) + facet_wrap(date~state)
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df <- read.csv('https://covidtracking.com/data/download/all-states-history.csv')
df %>% filter(state=='NH'|state=='MA') %>% ggplot() + geom_point(mapping=aes(x=deathIncrease, y=hospitalizedIncrease, color=state), position='dodge')
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df <- read.csv('https://covidtracking.com/data/download/all-states-history.csv')
df %>% filter(state=='NH') %>% ggplot() + geom_point(mapping=aes(x=deathIncrease, y=hospitalizedIncrease, color=state), position='jitter')
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df <- read.csv('https://covidtracking.com/data/download/all-states-history.csv')
df %>% filter(state=='NH') %>% ggplot(mapping=aes(x=deathIncrease), (y=hospitalizedIncrease)) + facet_wrap(date~state)
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df <- read.csv('https://covidtracking.com/data/download/all-states-history.csv')
df %>% filter(state=='NH'|state=='MA')) %>% ggplot() + geom_point(mapping=aes(x=deathIncrease, y=hospitalizedIncrease, color=state), position='jitter')
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df <- read.csv('https://covidtracking.com/data/download/all-states-history.csv')
df %>% filter(state=='NH'|state=='MA) %>% ggplot() + geom_point(mapping=aes(x=deathIncrease, y=hospitalizedIncrease, color=state), position='jitter')
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df <- read.csv('https://covidtracking.com/data/download/all-states-history.csv')
df %>% filter(state=='NH'|state=='MA') %>% ggplot() + geom_point(mapping=aes(x=deathIncrease, y=hospitalizedIncrease, color=state), position='jitter')
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df <- read.csv('https://covidtracking.com/data/download/all-states-history.csv')
df %>% filter(state=='NH') %>% ggplot(mapping=aes(x=deathIncrease), (y=hospitalizedIncrease)) + facet_wrap(state~death)
knitr::opts_chunk$set(message = FALSE)
install.packages('gganimate','gifski')
knitr::opts_chunk$set(message = FALSE)
df$month <- df$Date_reported
d1 <- df %>% group_by(month, Country) %>% summarise(aggregate(positive))
library(gganimate)
library(gganimate)
library(ggplot2)
library(tidyverse)
library(gganimate)
library(ggplot2)
library(tidyverse)
library(knitr)
df <- read_csv('https://covid19.who.int/WHO-COVID-19-global-data.csv')
d1 <- df %>% group_by(month, Country) %>% summarise(aggregate(positive))
df$month <- df$Date_reported
d1 <- df %>% group_by(month, Country) %>% summarise(aggregate(positive))
d1 <- df %>% group_by(month, Country) %>% summarise(aggregate(Cumulative_deaths))
df
d1 <- df %>% group_by(month, Country) %>% summarise(aggregate(Cumulative_deaths))
d1 <- df %>% group_by(month, Country) %>% summarise(mean(Cumulative_deaths))
d2 <- d1 %>% group_by(month)%>% mutate(rank=rank(-mean())) %>% ungroup()
df$month <- df$Date_reported
d1 <- df %>% group_by(month, Country) %>% summarise(mean(Cumulative_deaths))
d1 <- df %>% group_by(month, Country) %>% summarise(mean(Cumulative_deaths))
d2 <- d1 %>% group_by(month)%>% mutate(rank=rank(-mean)) %>% ungroup()
d2 <- d1 %>% group_by(month) %>% mutate(rank=rank(-mean)) %>% ungroup()
d2 <- d1 %>% group_by(month) %>% mutate(rank=rank(mean)) %>% ungroup()
month
df$month
d2 <- d1 %>% group_by(month) %>% mutate(rank=rank(mean)) %>% ungroup()
d1
d1 <- df %>% group_by(month, Country) %>% summarise(mean=mean(Cumulative_deaths))
d2 <- d1 %>% group_by(month) %>% mutate(rank=rank(mean)) %>% ungroup()
d3 <- d2 %>% filter(rank <= 10)
b1 <- d3 %>% ggplot(aes(x=rank, y=mean, group=Country, fill=Country, label=Country)) + geom_col()+
geom_text(aes(y = mean, label = Country), hjust = 1.4)+
coord_flip(clip = "off", expand = FALSE) +scale_x_reverse()+
labs( x='', y='Total Number of Deaths', fill='Country')+
theme(plot.title = element_text(hjust = 1, size = 22),
axis.ticks.y = element_blank(),
axis.text.y  = element_blank()) +
transition_states(Country)+
ease_aes("cubic-in-out")
animate(b1, nframes = 400, fps = 10)
knitr::opts_chunk$set(message = FALSE)
library(gganimate)
library(ggplot2)
library(tidyverse)
library(tidyverse)
library(knitr)
df <- read_csv('https://covid19.who.int/WHO-COVID-19-global-data.csv')
df$month <- df$Date_reported
d1 <- df %>% group_by(month, Country) %>% summarise(mean=mean(Cumulative_deaths))
d1 <- df %>% group_by(month, Country) %>% summarise(mean=mean(Cumulative_deaths))
d2 <- d1 %>% group_by(month) %>% mutate(rank=rank(-mean)) %>% ungroup()
d2 <- d1 %>% group_by(month) %>% mutate(rank=rank(-mean)) %>% ungroup()
d3 <- d2 %>% filter(rank <= 10)
b1 <- d3 %>% ggplot(aes(x=rank, y=mean, group=Country, fill=Country, label=Country)) + geom_col()+
geom_text(aes(y = mean, label = Country), hjust = 1.4)+
coord_flip(clip = "off", expand = FALSE) +scale_x_reverse()+
labs(title = 'Month', x='', y='Total Number of Deaths', fill='Country')+
theme(plot.title = element_text(hjust = 1, size = 22),
axis.ticks.y = element_blank(),
axis.text.y  = element_blank()) +
transition_states(month)+
ease_aes("cubic-in-out")
animate(b1, nframes = 400, fps = 10)
ggplot(data, aes(x=Job,
y=salary,
fill=salary)) +
geom_col()+
ylim(0, 25000)+
transition_states(year)+
labs(title = 'Year: {closest_state}')
ggplot(data, aes(x=mean(),
y=month,
fill=month)) +
geom_col()+
ylim(0, 25000)+
transition_states(month)+
labs(title = 'monthr: {closest_state}')
ggplot(aes(x=mean(),
y=month,
fill=month)) +
geom_col()+
ylim(0, 25000)+
transition_states(month)+
labs(title = 'monthr: {closest_state}')
ggplot(aes(x=mean(),
y=month,
fill=month)) +
geom_col()+
ylim(0, 25000)+
transition_states(month)+
labs(title = 'monthr: {closest_state}')
ggplot(aes(x=mean(),
y=month,
fill=month)) +
geom_col()+
ylim(0, 25000)+
transition_states(month)+
labs(title = 'monthr: {closest_state}')
ggplot(aes(x=mean,
y=month,
fill=month)) +
geom_col()+
ylim(0, 25000)+
transition_states(month)+
labs(title = 'monthr: {closest_state}')
ggplot(data, aes(x=Country,
y=mean,
fill=mean)) +
geom_col()+
ylim(0, 25000)+
transition_states(month)+
labs(title = 'Mean: {closest_state}')
ggplot(d1
, aes(x=Country,
y=mean,
fill=mean)) +
geom_col()+
ylim(0, 25000)+
transition_states(month)+
labs(title = 'Mean: {closest_state}')
, aes(x=Country,
ggplot(d1, aes(x=Country,
y=month,
fill=mean)) +
geom_col()+
ylim(0, 25000)+
transition_states(month)+
labs(title = 'Month: {closest_state}')
b1 <- d3 %>% ggplot(aes(x=rank, y=mean, group=Country, fill=Country, label=Country)) + geom_col()+
geom_text(aes(y = mean, label = Country), hjust = 1.4)+
coord_flip(clip = "off", expand = FALSE) +scale_x_reverse()+
labs(title = 'Month', x='', y='Total Number of Deaths', fill='Country')+
theme(plot.title = element_text(hjust = 1, size = 22),
axis.ticks.y = element_blank(),
axis.text.y  = element_blank()) +
transition_states(mean)+
ease_aes("cubic-in-out")
animate(b1, nframes = 400, fps = 10)
b1 <- d3 %>% ggplot(aes(x=rank, y=mean, group=Country, fill=Country, label=Country)) + geom_col()+
geom_text(aes(y = mean, label = Country), hjust = 1.4)+
coord_flip(clip = "off", expand = FALSE) +scale_x_reverse()+
labs(title = 'Month', x='', y='Total Number of Deaths', fill='Country')+
theme(plot.title = element_text(hjust = 1, size = 22),
axis.ticks.y = element_blank(),
axis.text.y  = element_blank()) +
transition_states(month)+
ease_aes("cubic-in-out")
animate(b1, nframes = 400, fps = 10)
library(tweenr)
animate(b1, nframes = 400, fps = 10)
install.packages('gganimate')
install.packages("gganimate")
install.packages('gifski')
knitr::opts_chunk$set(message = FALSE)
ggplot(d1, aes(x=Country,
y=mean,
fill=mean)) +
geom_col()+
ylim(0, 25000)+
transition_states(month)+
labs(title = 'Mean: {closest_state}')
ggplot(d1, aes(x=Country,
y=mean,
fill=mean)) +
geom_col()+
ylim(0, 25000)+
transition_states(month)+
labs(title = 'Mean: {closest_state}')
knitr::opts_chunk$set(message = FALSE)
library(gganimate)
library(ggplot2)
library(tidyverse)
library(knitr)
df <- read_csv('https://covid19.who.int/WHO-COVID-19-global-data.csv')
df$month <- df$Date_reported
d1 <- df %>% group_by(month, Country) %>% summarise(mean=mean(Cumulative_deaths))
d2 <- d1 %>% group_by(month) %>% mutate(rank=rank(-mean)) %>% ungroup()
d3 <- d2 %>% filter(rank <= 10)
b1 <- d3 %>% ggplot(aes(x=rank, y=mean, group=Country, fill=Country, label=Country)) + geom_col()+
geom_text(aes(y = mean, label = Country), hjust = 1.4)+
coord_flip(clip = "off", expand = FALSE) +scale_x_reverse()+
labs(title = 'Month', x='', y='Total Number of Deaths', fill='Country')+
theme(plot.title = element_text(hjust = 1, size = 22),
axis.ticks.y = element_blank(),
axis.text.y  = element_blank()) +
transition_states(month)+
ease_aes("cubic-in-out")
animate(b1, nframes = 100, fps = 10)
ggplot(d1, aes(x=Country,
y=mean,
fill=mean)) +
geom_col()+
ylim(0, 25000)+
transition_states(month)+
labs(title = 'Mean: {closest_state}')
ggplot(d1, aes(x=Country,
y=month,
fill=mean)) +
geom_col()+
ylim(0, 25000)+
transition_states(month)+
labs(title = 'Month: {closest_state}')
knitr::opts_chunk$set(message = FALSE)
df <- read_csv('https://covid19.who.int/WHO-COVID-19-global-data.csv')
df <- read_csv('https://covid19.who.int/WHO-COVID-19-global-data.csv')
library(tidyverse)
library(tidyverse)
df <- read_csv('https://covid19.who.int/WHO-COVID-19-global-data.csv')
filter(Date_reported,False)
arrange(-Cumulative_deaths)
df
date
df$Country_code
df %>%
filter(state %in% c('US','BR','CN')) %>%
ggplot(aes(y=Cumulative_deaths,
x=date,
color=state))+
geom_line()+
geom_point(size=3)+
geom_text(aes(label = positive),
hjust = -.1, size=5) +
transition_reveal(date)
df %>%
filter(Country_code %in% c('US','BR','CN')) %>%
ggplot(aes(y=Cumulative_deaths,
x=date,
color=state))+
geom_line()+
geom_point(size=3)+
geom_text(aes(label = positive),
hjust = -.1, size=5) +
transition_reveal(date)
library(gganimate)
library(ggplot2)
library(tidyverse)
library(knitr)
df <- read_csv('https://covid19.who.int/WHO-COVID-19-global-data.csv')
df %>%
filter(Country_code %in% c('US','BR','CN')) %>%
ggplot(aes(y=Cumulative_deaths,
x=date,
color=state))+
geom_line()+
geom_point(size=3)+
geom_text(aes(label = positive),
hjust = -.1, size=5) +
transition_reveal(date)
df %>%
filter(Country_code %in% c('US','BR','CN')) %>%
ggplot(aes(y=Cumulative_deaths,
x=date,
color=state))+
geom_line()+
geom_point(size=3)+
transition_reveal(date)
df %>%
filter(Country_code %in% c('US','BR','CN')) %>%
ggplot(aes(y=Cumulative_deaths,
x=Date_reported,
color=state))+
geom_line()+
geom_point(size=3)+
transition_reveal(date)
df %>%
filter(Country_code %in% c('US','BR','CN')) %>%
ggplot(aes(y=Cumulative_deaths,
x=Date_reported,
color=state))+
geom_line()+
geom_point(size=3)+
transition_reveal(date)
df %>%
filter(Country_code %in% c('US','BR','CN')) %>%
ggplot(aes(y=Cumulative_deaths,
x=Date_reported,
color=state))+
geom_line()+
geom_point(size=3)+
transition_reveal(Date_reported)
df %>%
filter(Country_code %in% c('US','BR','CN')) %>%
ggplot(aes(y=Cumulative_deaths,
x=Date_reported,
color=Country_code))+
geom_line()+
geom_point(size=3)+
transition_reveal(Date_reported)
death_per_cases <- df(Cumulative_death/Cumulative_cases)
death_per_cases <- df(Cumulative_deaths/Cumulative_cases)
death_per_cases <- df(Cumulative_deaths/Cumulative_cases)
death_per_cases <- (Cumulative_deaths/Cumulative_cases)
death_per_cases <- (Cumulative_deaths/Cumulative_cases)
death_per_cases <- (Cumulative_deaths/Cumulative_cases)
df$death_per_cases <- (df$Cumulative_deaths/df$Cumulative_cases)
df$death_per_cases
df$death_per_cases <- (df$Cumulative_deaths/df$Cumulative_cases)
df %>%
filter(Country_code %in% c('US','IT','MX')) %>%
ggplot(aes(y=Cumulative_deaths,
x=Date_reported,
color=Country_code))+
geom_line()+
geom_point(size=3)+
transition_reveal(Date_reported)
df %>%
filter(death_per_cases %in% c('US','IT','MX')) %>%
ggplot(aes(y=death_per_cases,
x=Date_reported,
color=Country_code))+
geom_line()+
geom_point(size=3)+
transition_reveal(Date_reported)
df %>%
filter(death_per_cases %in% c('US','IT','MX')) %>%
ggplot(aes(y=death_per_cases,
x=death_per_cases,
color=Country_code))+
geom_line()+
geom_point(size=3)+
transition_reveal(Date_reported)
df %>%
filter(Country_code %in% c('US','IT','MX')) %>%
ggplot(aes(y=death_per_cases,
x=Date_reported,
color=Country_code))+
geom_line()+
geom_point(size=3)+
transition_reveal(Date_reported)
knitr::opts_chunk$set(message = FALSE)
model2 <- train(age~., data=df_train,
method = "rf",
ntree = 1000)
knitr::opts_chunk$set(message = FALSE)
library(mlbench)
data(PimaIndiansDiabetes)
df <- PimaIndiansDiabetes
library(caret)
set.seed(2020)
splitIndex <- createDataPartition(df$age, p = .80,
list = FALSE)
df_train <- df[ splitIndex,]
df_test <- df[-splitIndex,]
library(rpart)
tree_model <- rpart(diabetes ~ ., data = df_train,
control = rpart.control(maxdepth = 3))
library(rattle)
fancyRpartPlot(tree_model)
tree_model$variable.importance
library(randomForest)
forest_model = randomForest(age ~ ., data=df_train, ntree = 500)
pred <- predict(forest_model, df_test, type = "class")
cm <- confusionMatrix(data = pred, reference = df_test, positive = "1")
cm <- confusionMatrix(data = pred, reference = df_test)
pred
knitr::opts_chunk$set(message = FALSE)
library(mlbench)
data(PimaIndiansDiabetes)
df <- PimaIndiansDiabetes
library(caret)
set.seed(2020)
splitIndex <- createDataPartition(df$diabetes, p = .80,
list = FALSE)
df_train <- df[ splitIndex,]
df_test <- df[-splitIndex,]
library(rpart)
tree_model <- rpart(diabetes ~ ., data = df_train,
control = rpart.control(maxdepth = 3))
library(rattle)
fancyRpartPlot(tree_model)
tree_model$variable.importance
library(randomForest)
forest_model = randomForest(diabetes ~ ., data=df_train, ntree = 500)
pred <- predict(forest_model, df_test, type = "class")
cm <- confusionMatrix(data = pred, reference = df_test, positive = "1")
cm <- confusionMatrix(data = pred, reference = df_test$diabetes, positive = "1")
library(randomForest)
forest_model = randomForest(diabetes ~ ., data=df_train, ntree = 500)
forest_model = randomForest(diabetes ~ ., data=df_train, ntree = 500)
pred <- predict(forest_model, df_test, type = "class")
cm <- confusionMatrix(data = pred, reference = df_test$diabetes, positive = "1")
cm$overall[1]
cm <- confusionMatrix(data = pred, reference = df_test$diabetes, positive = "1")
library(mlbench)
(caret)
library(caret)
library(rpart)
library(rattle)
install.packages("e1071")
cm <- confusionMatrix(data = pred, reference = df_test$diabetes, positive = "1")
cm <- confusionMatrix(data = pred, reference = df_test$diabetes, positive = "1")
cm <- confusionMatrix(data = pred, reference = df_test$diabetes, positive = "1")
model3 <- train(diabetes~., data=df_train,
method = "rf",
ntree = 2000)
model3 <- train(diabetes~., data=df_train,
method = "rf",
ntree = 2000)
